{% extends "mainPage.html" %}
{% load static %}

{% block content %}
<div class="content-wrapper">
  <div class="content mt-4">
    <div class="container-fluid">
      <div class="row">
        <div class="col-12">
          <div class="card text-white bg-primary mb-3 text-center">
            <div class="card-body">
              <h3>Sistem Absensi Pegawai</h3>
              <h5 id="time"></h5>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="info-box">
            <span class="info-box-icon bg-primary"><i class="fas fa-users"></i></span>
            <div class="info-box-content">
              <span class="info-box-text">Total Karyawan</span>
              <span class="info-box-number">7</span>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="info-box">
            <span class="info-box-icon bg-success"><i class="fas fa-user-check"></i></span>
            <div class="info-box-content">
              <span class="info-box-text">Total Hadir</span>
              <span class="info-box-number">1</span>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="info-box">
            <span class="info-box-icon bg-info"><i class="fas fa-user-clock"></i></span>
            <div class="info-box-content">
              <span class="info-box-text">Total Terlambat</span>
              <span class="info-box-number">0</span>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="info-box">
            <span class="info-box-icon bg-warning"><i class="fa fa-info"></i></span>
            <div class="info-box-content">
              <span class="info-box-text">Total Izin</span>
              <span class="info-box-number">0</span>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="info-box">
            <span class="info-box-icon bg-danger"><i class="fas fa-user-times"></i></span>
            <div class="info-box-content">
              <span class="info-box-text">Tidak Hadir</span>
              <span class="info-box-number">0</span>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="info-box">
            <span class="info-box-icon bg-info"><i class="fas fa-temperature-high"></i></span>
            <div class="info-box-content">
              <span class="info-box-text">Suhu Tertinggi</span>
              <span class="info-box-number">36 °C</span>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <div class="card card-primary">
            <div class="card-header border-0">
              <h3 class="card-title">Log Absensi Terbaru</h3>
            </div>
            <div class="card-body table-responsive p-0">
              <table class="table table-striped table-valign-middle">
                <thead>
                  <tr>
                    <th>NIP</th>
                    <th>Nama</th>
                    <th>Jam Datang</th>
                    <th>Jam Pulang</th>
                    <th>Foto Datang</th>
                    <th>Foto Pulang</th>
                    <th>Suhu</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1213993032932391</td>
                    <td>Agung Wahyu Widodo</td>
                    <td>07:40:10</td>
                    <td>00:00:00</td>
                    <td>
                      <a href="{% url 'scan' %}" class="text-muted"><i class="fas fa-images"></i></a>
                    </td>
                    <td>
                      <a href="#" class="text-muted"><i class="fas fa-images"></i></a>
                    </td>
                    <td>36 °C</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block js %}
<script>
  function checkTime(i) {
    if (i < 10) {
      i = "0" + i;
    }
    return i;
  }

  function startTime() {
    var today = new Date();
    var h = today.getHours();
    var m = today.getMinutes();
    var s = today.getSeconds();
    m = checkTime(m);
    s = checkTime(s);
    const monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    date = today.getDate() + ' ' + monthNames[today.getMonth()] + ' ' + today.getFullYear();
    document.getElementById('time').innerHTML = h + ":" + m + ":" + s + " - " +date;
    t = setTimeout(function () {
      startTime()
    }, 500);
  }
  startTime();
</script>
{% endblock %}