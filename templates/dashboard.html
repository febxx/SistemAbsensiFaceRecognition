{% extends 'mainPage.html' %}
{% load static %}

{% block content %}
<div class="row mt-5">
    <div class="col-12 mb-4">
        <div class="card bg-yellow-100 border-0 shadow">
            <div class="card-header d-sm-flex flex-row align-items-center flex-0">
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-12 col-sm-6 col-xl-3 mb-4">
        <div class="card border-0 shadow">
            <div class="card-body">
                <div class="row d-block d-xl-flex align-items-center">
                    <div
                        class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                        <div class="icon-shape icon-shape-secondary rounded me-4 me-sm-0">
                            <i class="fas fa-users" style="font-size:20px"></i>
                        </div>
                        <div class="d-sm-none">
                            <h2 class="h5 text-gray-400">Karyawan</h2>
                            <h3 class="mb-1">{{ total_karyawan }}</h3>
                        </div>
                    </div>
                    <div class="col-12 col-xl-7 px-xl-0">
                        <div class="d-none d-sm-block">
                            <h2 class="h6 text-gray-400 mb-0">Karyawan</h2>
                            <h3>{{ total_karyawan }}</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-12 col-sm-6 col-xl-3 mb-4">
        <div class="card border-0 shadow">
            <div class="card-body">
                <div class="row d-block d-xl-flex align-items-center">
                    <div
                        class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                        <div class="icon-shape icon-shape-primary rounded me-4 me-sm-0">
                            <i class="fas fa-user-check" style="font-size:20px"></i>
                        </div>
                        <div class="d-sm-none">
                            <h2 class="fw-extrabold h5">Hadir</h2>
                            <h3 class="mb-1">0</h3>
                        </div>
                    </div>
                    <div class="col-12 col-xl-7 px-xl-0">
                        <div class="d-none d-sm-block">
                            <h2 class="h6 text-gray-400 mb-0">Hadir</h2>
                            <h3>0</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-12 col-sm-6 col-xl-3 mb-4">
        <div class="card border-0 shadow">
            <div class="card-body">
                <div class="row d-block d-xl-flex align-items-center">
                    <div
                        class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                        <div class="icon-shape icon-shape-secondary rounded me-4 me-sm-0">
                            <i class="fas fa-user-times" style="font-size:20px"></i>
                        </div>
                        <div class="d-sm-none">
                            <h2 class="fw-extrabold h5">Tidak Hadir</h2>
                            <h3 class="mb-1">0</h3>
                        </div>
                    </div>
                    <div class="col-12 col-xl-7 px-xl-0">
                        <div class="d-none d-sm-block">
                            <h2 class="h6 text-gray-400 mb-0">Tidak Hadir</h2>
                            <h3>0</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-12 col-sm-6 col-xl-3 mb-4">
        <div class="card border-0 shadow">
            <div class="card-body">
                <div class="row d-block d-xl-flex align-items-center">
                    <div
                        class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                        <div class="icon-shape icon-shape-primary rounded me-4 me-sm-0">
                            <i class="fas fa-user-clock" style="font-size:20px"></i>
                        </div>
                        <div class="d-sm-none">
                            <h2 class="fw-extrabold h5">Suhu Rata-Rata</h2>
                            <h3 class="mb-1">0 °C</h3>
                        </div>
                    </div>
                    <div class="col-12 col-xl-7 px-xl-0">
                        <div class="d-none d-sm-block">
                            <h2 class="h6 text-gray-400 mb-0">Suhu Rata-Rata</h2>
                            <h3>0 °C</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-12">
        <div class="card border-0 shadow mb-4">
            <div class="card-header">
                <div class="row align-items-center">
                    <div class="col">
                        <h2 class="fs-5 fw-bold mb-0">Log Absensi</h2>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <table id="log-absensi" class="table table-centered table-nowrap mb-0 rounded">
                    <thead class="thead-light">
                        <tr>
                            <th class="border-0">NIP</th>
                            <th class="border-0">NAMA</th>
                            <th class="border-0">JAM DATANG</th>
                            <th class="border-0">JAM PULANG</th>
                            <th class="border-0">GAMBAR DATANG</th>
                            <th class="border-0">GAMBAR PULANG</th>
                            <th class="border-0 rounded-end">SUHU</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>198310202014042001</td>
                            <td>Eka Mistiko Rini, S.Kom, M. Kom</td>
                            <td>08:00:00</td>
                            <td>08:00:00</td>
                            <td><a href="#" class="text-muted"><i class="fas fa-images"></i></a></td>
                            <td><a href="# " class="text-muted"><i class="fas fa-images"></i></a></td>
                            <td>0 °C</td>
                        </tr>
                        
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static 'vendor/bootstrap/bootstrap.min.css' %}">
<link rel="stylesheet" href="{% static 'vendor/datatables-bs4/css/dataTables.bootstrap4.min.css' %}">
<link rel="stylesheet" href="{% static 'vendor/datatables-responsive/css/responsive.bootstrap4.min.css' %}">
<link rel="stylesheet" href="{% static 'vendor/datatables-buttons/css/buttons.bootstrap4.min.css' %}">
{% endblock %}

{% block js %}
<script src="{% static 'vendor/datatables/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'vendor/datatables-bs4/js/dataTables.bootstrap4.min.js' %}"></script>
<script src="{% static 'vendor/datatables-responsive/js/dataTables.responsive.min.js' %}"></script>
<script src="{% static 'vendor/datatables-responsive/js/responsive.bootstrap4.min.js' %}"></script>
<script src="{% static 'vendor/datatables-buttons/js/dataTables.buttons.min.js' %}"></script>
<script src="{% static 'vendor/datatables-buttons/js/buttons.bootstrap4.min.js' %}"></script>
<script src="{% static 'vendor/datatables-buttons/js/buttons.html5.min.js' %}"></script>
<script src="{% static 'vendor/datatables-buttons/js/buttons.print.min.js' %}"></script>
<script src="{% static 'vendor/datatables-buttons/js/buttons.colVis.min.js' %}"></script>

<script>
    $(function () {
        $('#log-absensi').DataTable({
            "paging": false,
            "lengthChange": false,
            "searching": false,
            "ordering": false,
            "info": false,
            "autoWidth": true,
            "responsive": true,
        });
    });

    function checkTime(i) {
        if (i < 10) {
            i = "0" + i;
        }
        return i;
    }

    function startTime() {
        var today = new Date();
        var h = today.getHours();
        var m = today.getMinutes();
        var s = today.getSeconds();
        m = checkTime(m);
        s = checkTime(s);
        const monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September",
            "October", "November", "December"
        ];
        date = today.getDate() + ' ' + monthNames[today.getMonth()] + ' ' + today.getFullYear();
        document.getElementById('time').innerHTML = h + ":" + m + ":" + s + " - " + date;
        t = setTimeout(function () {
            startTime()
        }, 500);
    }
    startTime();
</script>
{% endblock %}